# PAF::Primer selector

Vamos a crear el primer selector, pero desafortunadamente no podremos problarlo hasta que no pasemos al siguiente tutorial, donde lo configuraremos y haremos la primera ejecución en PAF.

Este selector que crearemos aquí, pintará en un histograma la variable T_METPF únicamente. Para que el sistema reconozca un analizador, necesitamos crear siempre una carpeta con su mismo nombre y dentro dos archivos, con el mismo nombre del directorio, que son la cabecera y la implementación.

##Pasos
1. Vamos a un directorio que hayamos marcado como repositorio antes (variable PAFREPOSITORIES) y crearemos la carpeta "MyAnalyzer". 
2. Entramos en la carpeta "MyAnalyzer" y creamos dos archivos de texto planos, "MyAnalyzer.h" para la cabecera y "MyAnalyzer.C" para la implementación.

##Código
#### MyAnalyzer.h
```cpp
#pragma once

#include "../PAF/computing/PAFChainItemSelector.h"

#include <TH1F.h>
#include <TTree.h>

class MyAnalyser : public PAFChainItemSelector {
	public:
		MyAnalyser() : PAFChainItemSelector(), myHistogram(0) {}
		virtual ~MyAnalyser() {}

	protected:
		virtual void Initialise();
		virtual void InsideLoop();
		virtual void Summary();

	protected:
		TH1F* myHistogram;
};
```
Es necesario heredar de PAFChainItemSelector ya que es esta clase la que nos proveerá un gran número de funcionalidades de PAF y hará gran parte del trabajo por nostros. Además, el sistema sólo permite ejecutar clases de éste tipo. En cuanto a los métodos:
>- Initialise: Se ejecutará una única vez, sirve para inicializar las variables que vayamos a utilizar.
>- InsideLoop: Éste método se ejecutará una vez por cada suceso, es aquí donde irá el analisis realmente.
>- Summary: Al acabar el analisis, se llamará a éste método una única vez. Se usará para pintar o guardar resultados.

##### MyAnalyser.C
```cpp
#include "MyAnalyser.h"

void MyAnalyser::Initialise() {
	myHistogram = CreateH1F("myHistogram","#slash{E}_{T}", 100, 0., 200.);
}

void MyAnalyser::InsideLoop() {
	myHistogram->Fill(fData->T_METPF_ET);
}

void MyAnalyser::Summary() {
    TCanvas* c1 = new TCanvas("c1", "myHistogram canvas",200,10,400,400);
    fH1F = dynamic_cast<TH1F *>(fOutput->FindObject("myHistogram"));
    if (fH1F) fH1F->Draw();
    c1->Update();
}
```

Como se puede ver, en la inicialización únicamente se crea el histograma aprovechando una función (CreateH1F) que nos facilita el trabajo.

En cada suceso, se rellena dicho histograma con la variable T_METPF_ET, la cual leemos como float (más adelante se verán las diferentes maneras de leer las variables que PAF ofrece).

Y al finalizar el analisis, se crea un canvas, el cual queda seleccionado, y al hacer fH1F->Draw, se pinta el histograma en dicho canvas.

Hasta aquí, se deberá haber hecho un acto de fe, ya que para ejecutarlo, deberemos ir al siguiente tutorial, donde configuraremos PAF para que todo esto funcione.