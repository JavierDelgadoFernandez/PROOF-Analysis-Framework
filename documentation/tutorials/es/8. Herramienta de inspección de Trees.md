# PAF::Herramienta de inspección de Trees.
El funcionamiento del actual PAF hace que el usuario deba conocer la estructura del árbol que desea procesar. En particular es necesario conocer el tipo de las variables que se desea usar. Aunque ROOT proporciona herramientas para realizar esta tarea hemos desarrollado una herramienta que lo facilita: el ejecutable **```pafinspecttree```**.

## Ayuda de la herramienta
Si lanzamos la herramienta sin ningún parámetro nos pintará por consola la ayuda, esto es los parámetros que espera y su contenido:

```sh
$ pafinspecttree
-	"-h | --help" to show command help.
-	"-b | --branch branchname" to retrieve information about specified branch.
-	"-t | --tree treename"  to retrieve information about specified tree.

```

## Mostrando todo el contenido de un archivo ROOT
Por defecto, si no le indicamos más que un archivo ROOT, leerá su contenido completamente y devolverá todas las variables que contiene y su tipo, por ejemplo:
```sh
$ pafinspecttree /home/javier/Documents/Tree_ZJets_Madgraph_0.root
Type: Float_t 		Variable: T_Event_Rho
Type: Float_t 		Variable: T_Event_RhoIso
Type: Float_t 		Variable: T_Event_RhoCentralNeutral
Type: Int_t 		Variable: T_Event_RunNumber
Type: Int_t 		Variable: T_Event_EventNumber
Type: Int_t 		Variable: T_Event_LuminosityBlock
(...)
Type: Float_t 		Variable: T_METgen_ET
Type: Float_t 		Variable: T_METgen_Phi
Type: Bool_t 		Variable: T_passTriggerDoubleMu
Type: Bool_t 		Variable: T_passTriggerDoubleEl
Type: Bool_t 		Variable: T_passTriggerSingleMu
Type: Bool_t 		Variable: T_passTriggerSingleEl
Type: Bool_t 		Variable: T_passTriggerElMu

```

## Filtrando por el nombre de la variable
Si queremos filtrar por el nombre de la variable, disponemos del parámetro ```-b``` o ```--branch```, 
el cual admite expresiones regulares:

| Sym | Descripción                                       |
|:---:|---------------------------------------------------|
| ^   | Principio de la cadena                            |
| $   | Final de la cadena                                |
| .   | Cualquier caracter                                |
| [   | Principio de clases de caracteres                 |
| ]   | Final de clases de caracteres                     |
| ^   | Negación de clases de caracteres si es el primero |
| *   | 0 ó más caracteres                                |
| +   | 1 ó más caracteres                                |
| ?   | 0 ó 1 caracteres                                  |

Por ejemplo, si queremos filtrar en el archivo antes indicado, sólo aquellas variables que finalicen en "Muon_Px", lanzaríamos PAFInspectTree así:
```sh
pafinspecttree -b *Muon_Px /home/javier/Documents/Tree_ZJets_Madgraph_0.root
Type: vector<float> 		Variable: T_Gen_Muon_Px
Type: vector<float> 		Variable: T_Muon_Px
```

## Selección del Tree
La herramienta también nos permite seleccionar el Tree en el que realiza la búsqueda. Por defecto, es decir, si no le indicamos nada buscará en el tree llamado ```Tree```, pero podemos forzarlo a otros con el parámetro ```-t``` o ```--tree```, quedando la llamada para mostrar sólo las variables que comiencen por "T_Gen" del árbol "Tree" así:

```sh
pafinspecttree -b T_Gen* -t Tree /home/javier/Documents/Tree_ZJets_Madgraph_0.root
Type: vector<int> 		Variable: T_Gen_Muon_PID
Type: vector<float> 		Variable: T_Gen_Muon_Px
Type: vector<float> 		Variable: T_Gen_Muon_Py
Type: vector<float> 		Variable: T_Gen_Muon_Pz
(...)
Type: vector<float> 		Variable: T_Gen_TauSt3_LepDec_Py
Type: vector<float> 		Variable: T_Gen_TauSt3_LepDec_Pz
Type: vector<float> 		Variable: T_Gen_TauSt3_LepDec_Energy
```
